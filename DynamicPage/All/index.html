<!doctype html> 
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="./resources/ol.css">
        <link rel="stylesheet" href="resources/fontawesome-all.min.css">
        <link rel="stylesheet" href="./resources/ol3-layerswitcher.css">
        <link rel="stylesheet" href="./resources/qgis2web.css">
<style>
.search-layer {
  top: 135px;
  left: .5em;
}
.ol-touch .search-layer {
  top: 180px;
}
</style>

<style>
a:link {
  color: blue;
  background-color: transparent;
  text-decoration: none;
}
a:visited {
  color: pink;
  background-color: transparent;
  text-decoration: none;
}
a:hover {
  color: red;
  background-color: transparent;
  text-decoration: underline;
}
a:active {
  color: yellow;
  background-color: transparent;
  text-decoration: underline;
}
</style>



       <style>
        html, body {
            background-color: #ffffff;
        }
        .ol-control button {
            background-color: #f8f8f8 !important;
            color: #000000 !important;
            border-radius: 0px !important;
        }
        .ol-zoom, .geolocate, .gcd-gl-control .ol-control {
            background-color: rgba(0,0,0,.4) !important;
            padding: 5px !important;
            top: 75px
        }
        .ol-scale-line {
            background: none !important;
        }
        .ol-scale-line-inner {
            border: 2px solid #f8f8f8 !important;
            border-top: none !important;
            background: rgba(255, 255, 255, 0.5) !important;
            color: black !important;
        }
        </style>

        <style>
        .geolocate {
            top: 65px;
            left: .5em;
        }
        .ol-touch .geolocate {
            top: 80px;
        }
        </style>


<style>
.geolocate {
    top: 65px;
    left: .5em;
}
.ol-touch .geolocate {
    top: 80px;
}
</style>




<style>
.tooltip {
  background: rgba(0, 0, 0, 0.5);
  border-radius: 4px;
  color: white;
  padding: 4px 8px;
  opacity: 0.7;
  white-space: nowrap;
}
.tooltip-measure {
  opacity: 1;
  font-weight: bold;
}
.tooltip-static {
  background-color: #ffcc33;
  color: black;
  border: 1px solid white;
}
.tooltip-measure:before,
.tooltip-static:before {
  border-top: 6px solid rgba(0, 0, 0, 0.5);
  border-right: 6px solid transparent;
  border-left: 6px solid transparent;
  content: "";
  position: absolute;
  bottom: -6px;
  margin-left: -7px;
  left: 50%;
}
.tooltip-static:before {
  border-top-color: #ffcc33;
}
.measure-control {
  top: 100px;
  left: .5em;
}
.ol-touch .measure-control {
  top: 130px;
}
</style>



<style>
html, body, #map {
    position: relative;
    top: 0px
    left: 0px;
    width: 100%;
    height: 100%;
    padding: 0;
    margin: 0;
}
</style>



<style>
body, {
  margin: 0;
  font-family: Arial, Arial, sans-serif;

}

.topnav {
  position: absolute;
  top: 0px;
  left: 0px;
  overflow: hidden;
  background-color: #333;
}

.topnav a {
  float: left;
  color: #f2f2f2;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}

.topnav a:hover {
  background-color: #ddd;
  color: black;
}

.topnav a.active {
  background-color: #CC0000;
  color: white;
}
</style>



<style>
.container {
  position: absolute;
  bottom: 14px;
  left: 50px;
  font-family: Arial;
}

.text-block {
  background-color: black;
  color: white; 
  padding-top: 20px;
  padding-bottom: 20px;
  padding-left: 20px;
  padding-right: 20px;
}
</style>


<style>
    
</style>


<style>
body {font-family: Arial, Helvetica, sans-serif;}

/* The Modal (background) */
.modal {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1; /* Sit on top */
  padding-top: 100px; /* Location of the box */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
}

/* Modal Content */
.modal-content {
  position: relative;
  background-color: #fefefe;
  font-family: Arial;

  margin: auto;
  padding: 0;
  border: 1px solid #888;
  width: 80%;
  box-shadow: 0 4px 8px 0 rgba(0,0,0,0.5),0 6px 20px 0 rgba(0,0,0,0.5);
  -webkit-animation-name: animatetop;
  -webkit-animation-duration: 0.4s;
  animation-name: animatetop;
  animation-duration: 0.4s;
}

/* Add Animation */
@-webkit-keyframes animatetop {
  from {top:-300px; opacity:0} 
  to {top:0; opacity:1}
}

@keyframes animatetop {
  from {top:-300px; opacity:0}
  to {top:0; opacity:1}
}

/* The Close Button */
.close {
  color: white;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}

.modal-header {
  padding: 2px 16px;
  background-color: #000000;
  color: white;
  opacity: 60;
}

.modal-body {
  padding: 2px 16px; 
  opacity: 60;
  background-color: rgba(255,255,255,255.4);
}

.modal-footer {
  padding: 2px 16px;
  background-color: #000000;
  color: white;
  opacity: 60;
}
</style>



<style>
.button {
  background-color: rgba(0,0,0,.8);
  position: absolute;
  bottom: 14px;
  left: 50px;
  font-family: Arial;
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
}
</style>




<style>

body {
  background-color: #00000;
}

#loader-container {
  width: 200px;
  height: 200px;
  color: white;
  margin: 0 auto;
  position: absolute;
  top: 50%;
  left: 50%;
  margin-right: -50%;
  transform: translate(-50%, -50%);
  border: 5px solid #3498db;
  border-radius: 50%;
  -webkit-animation: borderScale 1s infinite ease-in-out;
  animation: borderScale 1s infinite ease-in-out;
}

#loadingText {
  font-family: 'Arial', sans-serif;
  font-weight: bold;
  font-size: 2em;
  position: absolute;
  top: 50%;
  left: 50%;
  margin-right: -50%;
  transform: translate(-50%, -50%);
}

@-webkit-keyframes borderScale {
  0% {
    border: 5px solid white;
  }
  50% {
    border: 25px solid #3498db;
  }
  100% {
    border: 5px solid white;
  }
}

@keyframes borderScale {
  0% {
    border: 5px solid white;
  }
  50% {
    border: 25px solid #fefefe;
  }
  100% {
    border: 5px solid black;
  }
}
</style>


    <title></title>
    </head>



        <div id="loader-container">
          <p id="loadingText">Loading</p>
        </div>

        <div id="map" >
          <div id="popup" class="ol-popup" style="height: 280px; width: 280px;">
              <a href="#" id="popup-closer" class="ol-popup-closer"></a>
              <div id="popup-content"></div>
          </div>
        </div>

      <body>

        


        <!-- Trigger/Open The Modal -->
        <button class="button" id="myBtn">Read me</button>


        <!-- The Modal -->
        <div id="myModal" class="modal">

          <!-- Modal content -->
          <div class="modal-content">
            <div class="modal-header">
              <span class="close">&times;</span>
              <h2>Welcome to Congestion Maps!</h2>
            </div>
            <div class="modal-body">
              
            <font size="3">
                <p>The <font color=#CC0000 size="3"><strong>Congestion Comparison by (Street) metric</strong></font> refers to the difference in minutes a street was congested in 2015 relative to 2012. Congestion occurs when  flow is greater than road capacity.</p>

                <p>The <font color=#CC0000 size="3"><strong>Congestion Comparison (zip) code metric</strong></font>  is the weighted average of the street metric based on inter-street distance.</p>

                <p>The <font color=#CC0000 size="3"><strong>Travel Time comparison (zip) metric</strong></font> shows the relative difference between average travel times in 2012 and 2015. These times were calculated from the link's speed and length.</p>

                <p>Maps use traffic data from the Eastern Massachusetts road network recorded by <strong><a href="http://inrix.com/products/traffic/">INRIX</a></strong>. Speeds were captured in real-time using vehicle-probe technology (mobile phones, GPS sensors in fleet vehicles, connected cars and road-based sensors).<p/>  

                <p>The dataset was provided by the <strong><a href="http://www.ctps.org/">Central Transportation Planning Staff (CTPS) of the Boston Metropolitan Planning Organization (MPO)</a></strong> .</p>
                  
                <p>Don't forget to <font color=#CC0000 size="3"><strong>hover over the zip codes or road segments</strong></font> to look at full information!</p>

            </font size="3">
            </div>
          </div>

        </div>



        <script>
          // Get the modal
          var modal = document.getElementById('myModal');

          // Get the button that opens the modal
          var btn = document.getElementById("myBtn");

          // Get the <span> element that closes the modal
          var span = document.getElementsByClassName("close")[0];

          // When the user clicks the button, open the modal 
          btn.onclick = function() {
            modal.style.display = "block";
          }


          // When the user clicks on <span> (x), close the modal
          span.onclick = function() {
            modal.style.display = "none";
          }

          // When the user clicks anywhere outside of the modal, close it
          window.onclick = function(event) {
            if (event.target == modal) {
              modal.style.display = "none";
            }
          }
          </script>


        <div class="topnav">
            <a href="http://www.bu.edu/eng/departments/se/" style="padding:6px;">
             <img id="logo" src="https://upload.wikimedia.org/wikipedia/commons/3/31/Boston_University_wordmark.svg" alt="BU Logo" style="width: 70px;border:0; ">
            </a>
            <a  href="https://salomonw.github.io/congestionmaps/DynamicPage/AM/index.html">Morning (7-9AM)</a>
            <a href="https://salomonw.github.io/congestionmaps/DynamicPage/MD/index.html">Noon (11AM-1PM)</a>
            <a href="https://salomonw.github.io/congestionmaps/DynamicPage/PM/index.html">Afternoon (5-7PM)</a>
            <a href="https://salomonw.github.io/congestionmaps/DynamicPage/NT/index.html">Night (9-11PM)</a>
            <a class="active" href="https://salomonw.github.io/congestionmaps/DynamicPage/All/index.html">All day</a>
         </div>




        <script src="resources/qgis2web_expressions.js"></script>
        <script src="resources/polyfills.js"></script>
        <script src="./resources/functions.js"></script>
        <script src="./resources/ol-debug.js"></script>
        <script src="./resources/ol3-layerswitcher.js"></script>
        <script src="layers/TraveltimezipAll_0.js"></script><script src="layers/CongestionComparisonzipAll_1.js"></script><script src="layers/CongestionComparisonStreetAll_2.js"></script>
        <script src="styles/TraveltimezipAll_0_style.js"></script><script src="styles/CongestionComparisonzipAll_1_style.js"></script><script src="styles/CongestionComparisonStreetAll_2_style.js"></script>
        <script src="./layers/layers.js" type="text/javascript"></script> 
        <script src="./resources/qgis2web.js"></script>
        <script src="./resources/Autolinker.min.js"></script>




    </body>
</html>